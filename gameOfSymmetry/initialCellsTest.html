<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<head>
    <title>initial cells test</title>
</head>

<body>

</body>

<script type="module">

import {
    output,
    ParamGui
}
from "../libgui/modules.js";

import {
    colorTable
}
from "./colorTable.js";

import {
    initialCells
}
from "./initialCells.js";
import {
    displayRectangularColorTable
}
from "./displayRectangularColorTable.js";

// essentially the same as test for displayrectangularcolortable
// simply using initialcells to generate the array with image data

const gui = new ParamGui({}, {
    closed: false
});
output.createCanvas(gui);
const colorTableGui = gui.addFolder({
    closed: false,
    name: 'color table'
});
colorTable.createUI(colorTableGui);
const displayGui = gui.addFolder({
    closed: false,
    name: 'display'
});
displayRectangularColorTable.createUI(displayGui);

const height=5;
const width=5;
const nStates=4;
const world=[];

   output.draw = displayRectangularColorTable.draw;
// initialize the color table
colorTable.setNColors(nStates);
colorTable.create();
    colorTable.draw = displayRectangularColorTable.draw;
// initialize display
displayRectangularColorTable.setDimensions(width,height);
displayRectangularColorTable.setImageNStates(nStates);
displayRectangularColorTable.setData(world);


initialCells.setDimensions(width,height);
initialCells.setData(world);
initialCells.setNStates(nStates);

// test configs
world.length=width*height;
initialCells.centerMotif();
initialCells.randomVerticalMirror();
initialCells.randomVerticalHorizontalMirror();
initialCells.randomBorderVerticalMirror();

output.resizeCanvas();
    displayRectangularColorTable.draw();


</script>

</html>