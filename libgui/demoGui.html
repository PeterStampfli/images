<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<head>
    <title>demo gui</title>
</head>

<body>

<canvas id="sq">test</canvas>

</body>

<script type="module">
import {
    ParamGui,
    InstantHelp
}
from "./modules.js";

const square = document.getElementById("sq");

square.style.width = "300px";
square.style.height = "300px";
square.style.backgroundColor = "red";

const gui = new ParamGui({}, {
    name: "demo controls",
    closed: false,
    closeOnTop: true
});

gui.addHelp("This is a <strong>demo</strong>.");

const params = {};

gui.addParagraph("With gui.addParagraph() we can add text to the gui.");
gui.addParagraph("The $-keyboard key hides/shows the gui. The tab-key cycles through the inputs.");

gui.addParagraph("With gui.addVerticalSpace(...) we can add a spacing:");
gui.addVerticalSpace(8, "blue");

gui.addParagraph("The ui for numbers is basically only a text input field interacting with the mouse, mouse wheel, keyboard (arrows too)");

params.number = 3.4;
gui.add(params, "number", 0, 8); // no stepsize is given, it comes from the initial value

gui.addParagraph("You can add an indicator in the background. Min and max values required.");
params.indi = 1;
gui.add(params, "indi", 0, 10, 0.01).createIndicatorMain();

gui.changeDesign({
    popupForNumberController: false
});
gui.addParagraph("Add buttons if usefull:");
params.plusMin = 2;
gui.add(params, "plusMin", -2, 12).createPlusMinusButtons().createIndicatorMain().createMaxMinButtons();

gui.addParagraph("The additional buttons can go to a popup, appears when changing the number.");
gui.changeDesign({
    popupForNumberController: true
});
params.pop = 1;
gui.add(params, "pop", 1).createPlusMinusButtons().createIndicatorMain().createMulDivButtons().createSuggestButton(500);
gui.addParagraph("the indicator can go to the popup:");
params.popIn = 100;
gui.add(params, "popIn", 0, 20).createPlusMinusButtons().createIndicatorPopup().createMaxMinButtons();

gui.addVerticalSpace(5);
gui.addVerticalSpace(8, "green");
gui.addParagraph("We can have several controls on a line:");


params.width = 0.3;
params.height = 0.1;
gui.add(params, "width").setMinLabelWidth(30).add(params, "height").setMinLabelWidth(30);

params.heat = false;
params.sound = true;
params.light = true;
gui.add(params, "heat").setMinLabelWidth(30).add(params, "sound").setMinLabelWidth(30).add(params, "light").setMinLabelWidth(30);

gui.addParagraph("The image selection shows the choosen image or an image label:");

const haeckel = "/images/libgui/haeckel/haeckel_";

const choices = {};
for (var i = 1; i < 10; i++) {
    choices["haeckel0" + i] = haeckel + "0" + i + ".png";
}
for (var i = 10; i < 20; i++) {
    choices["haeckel" + i] = haeckel + i + ".png";
}

params.image = haeckel + "0" + 5 + ".png";

gui.add(params, "image", choices);

gui.addParagraph("Images with transparency are shown on a <strong>dark</strong> background if they have a light color.");


gui.addParagraph("This color controller has an alpha channel. It controls the color and transparency of the square at the left:");

params.square = "#ff0000ff";
const co = gui.addColor(params, "square");
co.addHelp("Changes the color of the square at the left");
co.onChange(function(value) {
    console.log(value);
    square.style.backgroundColor = value;
});

gui.addParagraph("If the color parameter at initialization of the gui has no alpha value, then the controller too has no alpha and no range element:");
params.rgb = "#44ff00";
gui.addColor(params, "rgb");

gui.addParagraph("This is the basic controller for texts:");

params.string = "some text";
gui.add(params, "string");

gui.addParagraph("You can scroll through selections with the mouse wheel or up- and down arrows:");

params.letters = "beta";
gui.add(params, "letters", ["alpha", "beta", "gamma", "delta", "epsilon"]);
params.numbers = 1;
gui.add(params, "numbers", {
    zero: 0,
    "one": 1,
    "much": 333
});


gui.addParagraph("Boolean and function buttons:");

params.boolean = true;
const boo = gui.add(params, "boolean");

params.say_hello = function() {
    console.log("hello");
};
gui.add(params, "say_hello");

const folder = gui.addFolder("this is a folder");

params.rgba = "#ff00ffbb";
folder.addColor(params, "rgba");

params.simple = 3.33;
folder.add(params, "simple");

</script>

</html>