<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width">
<head>
    <title>drag and drop</title>
</head>

<body>



<h1>drop qqchoose</h1>

<div id="text">  

</div>

</body>


<script src="../librarySource/fastFun.js"></script>
<script src="../librarySource/rotation.js"></script>
<script src="../librarySource/vector2.js"></script>
<script src="../librarySource/select.js"></script>
<script src="../librarySource/linearTransform.js"></script>
<script src="../librarySource/keyboardEvents.js"></script>
<script src="../librarySource/color.js"></script>
<script src="../librarySource/vectorMap.js"></script>
<script src="../librarySource/mouseEvents.js"></script>
<script src="../librarySource/touchEvents.js"></script>
<script src="../librarySource/log.js"></script>
<script src="../librarySource/circle.js"></script>
<script src="../librarySource/point.js"></script>
<script src="../librarySource/line.js"></script>
<script src="../librarySource/polygon.js"></script>
<script src="../librarySource/polyPoint.js"></script>
<script src="../librarySource/button.js"></script>
<script src="../librarySource/numberButton.js"></script>
<script src="../librarySource/switchButton.js"></script>
<script src="../librarySource/selection.js"></script>
<script src="../librarySource/range.js"></script>
<script src="../librarySource/fileSaver.js"></script>
<script src="../librarySource/pixelCanvas.js"></script>
<script src="../librarySource/outputImage.js"></script>
<script src="../librarySource/controlImage.js"></script>
<script src="../librarySource/arrowController.js"></script>
<script src="../librarySource/dihedral.js"></script>
<script src="../librarySource/bins.js"></script>
<script src="../librarySource/imageTiles.js"></script>
<script src="../librarySource/iterateTiling.js"></script>


<script src="../librarySource/make.js"></script>
<script src="../librarySource/dom.js"></script>
<script src="../librarySource/draw.js"></script>
<script src="../librarySource/bigDiv.js"></script>

<script src="../librarySource/ammannBeenker.js"></script>
<script src="../librarySource/small12.js"></script>
<script src="../librarySource/stampfli.js"></script>
<script src="../librarySource/octagon.js"></script>
<script src="../librarySource/penrose.js"></script>
<script src="../librarySource/penroseRhombs.js"></script>
<script src="../librarySource/kite8.js"></script>
<script src="../librarySource/triangles12.js"></script>
<script src="../librarySource/stressedSquares.js"></script>
<script src="../librarySource/circleScope.js"></script>
<script src="../librarySource/multiCircles.js"></script>
<script src="../librarySource/apollinius.js"></script>
<script src="../librarySource/basicUI.js"></script>



<script type="text/javascript">






  

//basicUI={};

basicUI.dragAndDrop=function(){

//  return true if we have an image file
function isImageFile(file){
    const fileNameParts=file.name.split(".");
    if (fileNameParts.length===1){
        return false;         // not a file because of missing extension
    }
    else {
    const extension=fileNameParts[1].toLowerCase();
    return (extension=="jpg")||(extension=="jpeg")||(extension=="png");
    }
    }


window.ondrop=function(event) {
  console.log('File(s) dropped');
  event.preventDefault();
  
  // get first image file (if there is one)
  var file;
  let imageFileFound=false;
  let i=0;
  if (event.dataTransfer.items) {
    // Use DataTransferItemList interface to access the file(s)
    const length=event.dataTransfer.items.length;
    
    while(!imageFileFound&&(i<length)){
      // If dropped items aren't files, reject them
      if (event.dataTransfer.items[i].kind === 'file') {
        file = event.dataTransfer.items[i].getAsFile();
        imageFileFound=isImageFile(file);
        i++;
        console.log('..items. file[' + i + '].name = ' + file.name);
        console.log('... file[' + i + '].type = ' + file.type);
        
        console.log(imageFileFound); 
        // make function is image file
      }
    }
  } else {
  
    // Use DataTransfer interface to access the file(s)
    const length=event.dataTransfer.files.length;
    while(!imageFileFound&&(i<length)){
    
    file=event.dataTransfer.files[i];
    imageFileFound=isImageFile(file);
        i++;
      console.log('datatransfer.files... file[' + i + '].name = ' + file.name);
              console.log(imageFileFound); 

    }
  }
  // do something with the file if it is an imageFile
  if (imageFileFound){
  console.log("we have an image file "+file.name);
  }
  
  };

window.ondragover=function(event) {
  event.preventDefault();
};

};

basicUI.dragAndDrop();




</script>

</html>