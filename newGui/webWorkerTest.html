<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<head>
    <title>workertest</title>
    <link rel="preload" as="image" href="haeckel/haeckel_02.png" as="image" onload="console.log('yes')">

<img src="haeckel/haeckel_02.png">
</head>

<body>

<div id="thisDiv"></div>

</body>



<script type="module">
	// https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content

//https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/


	const worker=new Worker("worker.js");

	worker.onmessage=function(event){
		console.log("worker says");
		console.log(event);
		console.log(event.data);
		console.log(event.data.txt);
	};

	worker.postMessage({"txt": "start"});

//worker.terminate();

function prefetchImage(url){
console.log("prefetch");
	const prefetch = document.createElement("link");
prefetch.href = url;
prefetch.rel = "prefetch";
prefetch.as = "image";
prefetch.onload=function(){
	console.log("loaded "+url);
};
document.body.appendChild(prefetch);
}

preloadImage("haeckel/haeckel_01.png");


</script>


</html>