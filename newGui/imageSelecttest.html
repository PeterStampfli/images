<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<head>
    <title>image select test</title>
</head>

<body>

<div id="thisDiv"></div>

</body>



<script type="module">

import {
ImageSelect,
guiUtils
} from "../libgui/modules.js";



const thisDiv=document.getElementById("thisDiv");
thisDiv.innerText="sdfdfdf"

thisDiv.style.width="600px"
thisDiv.style.height="300px"

guiUtils.hSpace(thisDiv,20);

//thisDiv.style.backgroundColor="#bbbbbb"

/*

    this.guiImage.onmousedown = function() {
        imageSelect.interaction();
        return false;
    };



    // mousewheel on icon
    this.guiImage.onwheel = function(event) {
        event.preventDefault();
        event.stopPropagation();
        imageSelect.interaction();
        if (event.deltaY > 0) {
            imageSelect.select.changeIndex(1);
        } else {
            imageSelect.select.changeIndex(-1);
        }
        return false;
    };
    */


const sel=new ImageSelect(thisDiv,{popupImagesPerRow: 1,acceptUserImages:true});

guiUtils.hSpace(thisDiv,20);

sel.createGuiImage(thisDiv);
sel.acceptUserImages(thisDiv);


const haeckel="/images/libgui/haeckel/haeckel_";
/*
sel.addChoices([
	{name: "rins",value:1,icon:haeckel+"01.png"},
	{name: "zweiHaeck",value:22,icon:haeckel+"02.png"},
	{name: "no icon",value:333},
	{name: "mehr",value:4444,icon:"haeckel/haeckel_03.png"},
	{name: "vielmehr",value:55555,icon:"haeckel/haeckel_11.png"}
	]);

*/

 let choices={
    "haeckel01": haeckel+"01.png",
    "haeckel02": haeckel+"02.png",
    "haeckel03": haeckel+"03.png",
    "haeckel04": haeckel+"04.png",
    "haeckel05": haeckel+"05.png",  
};

sel.addChoices(choices);
sel.addChoices({name:"missing",value:haeckel+"22.png"})

sel.setValue(haeckel+"04.png");

sel.setValue( "data:image/gif;base64,R0lGODlhAQABAPABAP8SAAAAACH5BAAAAAAAIf4RQ3JlYXRlZCB3aXRoIEdJTVAALAAAAAABAAEAAAICRAEAOw==")

//sel.removeWindowEventListener()
//sel.destroy();

/*
ImageSelect.prototype.setValue = function(value) {
    const index = this.findIndex(value);
    if (index >= 0) {
        this.setIndex(index);
        this.makeImageButtonVisible();
    } else if (guiUtils.isGoodImageFile(value)) {
        const choice = {};
        choice.name = "user image";
        choice.icon = value;
        choice.value = value;
        this.add(choice);
        this.setValue(value);
    }
};
*/

sel.close()

sel.open()

</script>


</html>